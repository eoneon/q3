<small class="ml-5 my-0 py-0 form-text text-muted input-label">Edit Element #<%= "#{element_join.sort}"%></small>
<div class="row justify-content-between align-items-center bg-light">
  <button class="caret-toggle btn btn-lg bg-transparent pl-2 border py-0" data-toggle="collapse" data-target="#<%= dom_ref(element_join.element, 'body') %>" type="button" aria-expanded="false"><%= (fa_icon "caret-right") %></button>

  <ul class="nav ml-3 mr-0">
    <li class="nav-item-dropdown">
      <a class="nav-link dropdown bg-transparent text-info m-0 p-0 border" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><%= (fa_icon "ellipsis-v") %></a>
      <%= render "elements/header/dropdown_menu", element: element_join.element %>
    </li>
  </ul>

  <div class="col" id="<%= dom_ref(element_join.element, 'accordion') %>">
    <div class="collapse show toggle-sibling" id="<%= dom_ref(element_join.element, 'edit') %>" data-label="Edit Element: <%= element_join.element.name %>" data-parent="#<%= dom_ref(element_join.element, 'accordion') %>">
      <%= render "elements/forms/form", poly_element: poly_element, element: element_join.element, form_id: dom_ref(element_join.element, 'edit-form-id') %>
    </div>

    <div class="collapse toggle-sibling" id="<%= dom_ref(element_join.element, 'field-new') %>" data-label="New field for: <%= element_join.element.name %>" data-parent="#<%= dom_ref(element_join.element, 'accordion') %>">
      <%= render "fields/forms/form", fieldable: element_join.element, field: Field.new, url: polymorphic_url([element_join.element, :poly_fields]), form_id: dom_ref(element_join.element, 'field-new-form-id') %>
    </div>

    <div class="collapse toggle-sibling" id="<%= dom_ref(element_join.element, 'field_group-add') %>" data-label="Add field for: <%= element_join.element.name %>" data-parent="#<%= dom_ref(element_join.element, 'accordion') %>">
      <%= render 'field_groups/forms/form', fieldable: element_join.element, field_group: FieldGroup.new, form_id: dom_ref(element_join.element, 'field_group-add-form-id') %>
    </div>
  </div>

  <div class="col-1">
    <div class="row align-items-center">
      <div class="col mx-2 p-0">
        <%= render "element_joins/sorter", poly_element: poly_element, element_join: element_join %>
      </div>
      <div class="col p-0">
        <%= link_to (fa_icon "times"), polymorphic_url([poly_element, element_join]), method: :delete, remote: true, data: {confirm: "Are you sure?"}, class: "btn btn-sm btn-transparent text-danger delete-btn px-0 disabled" %>
      </div>
    </div>
  </div>
</div>
